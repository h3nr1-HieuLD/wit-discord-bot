"use strict";var x=Object.create;var o=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var L=(t,e)=>{for(var n in e)o(t,n,{get:e[n],enumerable:!0})},m=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of y(e))!I.call(t,a)&&a!==n&&o(t,a,{get:()=>e[a],enumerable:!(i=l(e,a))||i.enumerable});return t};var d=(t,e,n)=>(n=t!=null?x(D(t)):{},m(e||!t||!t.__esModule?o(n,"default",{value:t,enumerable:!0}):n,t)),g=t=>m(o({},"__esModule",{value:!0}),t),f=(t,e,n,i)=>{for(var a=i>1?void 0:i?l(e,n):e,s=t.length-1,c;s>=0;s--)(c=t[s])&&(a=(i?c(e,n,a):c(a))||a);return i&&a&&o(e,n,a),a},h=(t,e)=>(n,i)=>e(n,i,t);var H={};L(H,{default:()=>B});module.exports=g(H);var u=d(require("../../lib/decorators/MessageListener")),p=require("../../lib/filter"),b=d(require("../../lib/decorators/Message")),M=require("discord.js"),w=d(require("../../lib/hooks/useDiscordClient"));let r=class{async handler(e){if(!(e.author.bot&&e.author.username!="Jenkins"))try{const i=await(0,w.default)().channels.fetch(e.channelId);if(await e.delete(),i instanceof M.TextChannel){const a=i.threads.cache.filter(s=>s.name=="Builds");if(a.size>0)a.first()?.send({embeds:e.embeds,content:e.content+"-----------------------------------------------------------"});else{const s=await i.threads.create({name:"Builds",autoArchiveDuration:60,reason:"Thread for builds"});console.log("before sending"),await s.send({embeds:e.embeds,content:e.content+"."})}}}catch{}}};f([h(0,(0,b.default)())],r.prototype,"handler",1),r=f([(0,u.default)([p.Filter.anyMessage()])],r);var B=r;
